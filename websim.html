<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive DEM-like Web Simulation</title>
  <style>
    :root{
      --bg:#020817;
      --panel: rgba(2,6,23,0.72);
      --border: rgba(148,163,184,0.35);
      --text:#e5ecff;
      --muted:#8b9bbd;
      --accent:#6bc3ff;
    }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, sans-serif;
      background: radial-gradient(circle at top, #071633 0, #020817 55%);
      color: var(--text);
    }
    .page{
      padding: 42px min(6vw, 80px);
    }
    h1{
      letter-spacing: .22em;
      font-weight: 700;
      font-size: 22px;
      text-transform: uppercase;
      color: var(--muted);
      margin: 0 0 6px;
    }
    .sub{
      margin: 0 0 24px;
      color: var(--text);
      opacity: .9;
    }

    /* IMPORTANT: give the stage a real height */
    .sim-shell{
      max-width: 1100px;
      margin: 0 auto;
      border-radius: 26px;
      border: 1px solid var(--border);
      background: rgba(2,6,23,0.35);
      box-shadow: 0 18px 45px rgba(0,0,0,.55);
      padding: 18px;
    }

    .sim-stage{
      position: relative;
      height: 560px;            /* <-- YOU NEED THIS */
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid rgba(148,163,184,0.28);
      background: radial-gradient(circle at top, rgba(23,37,84,.65), rgba(2,6,23,.85));
    }

    #webdem-canvas{
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display:block;
    }

    .panel{
      position: absolute;
      left: 22px;
      bottom: 22px;
      width: 280px;
      padding: 16px;
      border-radius: 16px;
      background: var(--panel);
      border: 1px solid rgba(148,163,184,0.25);
      backdrop-filter: blur(16px);
      z-index: 5;
    }
    .row{
      margin-bottom: 14px;
    }
    .label{
      font-size: 12px;
      letter-spacing: .2em;
      text-transform: uppercase;
      color: var(--muted);
      display:flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    input[type="range"]{ width:100%; }
    button{
      width:100%;
      padding: 10px 12px;
      border-radius: 999px;
      background: transparent;
      border: 1px solid rgba(148,163,184,0.4);
      color: var(--text);
      cursor: pointer;
    }
    button:hover{ border-color: rgba(107,195,255,0.8); }
  </style>
</head>

<body>
  <div class="page">
    <h1>Interactive DEM-like Web Simulation</h1>
    <p class="sub">Twin-disc visualization with controllable RPM and flow rate.</p>

    <div class="sim-shell">
      <div class="sim-stage">
        <canvas id="webdem-canvas"></canvas>

        <div class="panel">
          <div class="row">
            <div class="label">
              <span>SPINNER RPM</span>
              <span id="rpmVal">650</span>
            </div>
            <input id="rpm" type="range" min="0" max="900" value="650" />
          </div>

          <div class="row">
            <div class="label">
              <span>FLOW RATE (PARTICLES/SEC)</span>
              <span id="ppsVal">1200</span>
            </div>
            <input id="pps" type="range" min="0" max="3000" value="1200" />
          </div>

          <button id="resetSim">Reset</button>
        </div>
      </div>
    </div>
  </div>

  <!-- IMPORTANT: module script must be AFTER the canvas -->
  <script type="module" src="webdem.js?v=116"></script>
</body>
</html>
